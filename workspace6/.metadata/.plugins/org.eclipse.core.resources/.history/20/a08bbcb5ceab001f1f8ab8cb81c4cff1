--기본키, 외래키


--부서 테이블
CREATE TABLE DEPT(
	DEPT_NO NUMBER PRIMARY KEY,
	DEPT_NAME VARCHAR2(20) NOT NULL
);



--사원 테이블
CREATE TABLE EMP(
	EMP_NO NUMBER PRIMARY KEY,
	EMP_NAME VARCHAR2(20) NOT NULL,
	DEPT_NO NUMBER NOT NULL,
	CONSTRAINT FK_DEPT_NO FOREIGN KEY(DEPT_NO) REFERENCES dept(dept_no)
);


--부서테이블에 데이터 넣기
INSERT INTO DEPT VALUES(1, '인사부');
INSERT INTO DEPT VALUES(2, '연구부');
INSERT INTO DEPT VALUES(3, '홍보부');

SELECT * FROM DEPT;


--사원테이블에 데이터 넣기
INSERT INTO EMP VALUES(1001, '정소화', 3);
INSERT INTO EMP VALUES(1002, '김용욱', 1);
INSERT INTO EMP VALUES(1003, '고명석', 2);

--★참조하고 있는 부모 테이블에 없는 값은 외래키로 사용 할 수 X
INSERT INTO EMP VALUES(1004, '김연아', 4);

SELECT * FROM EMP;
SELECT * FROM DEPT;
--★참조하고 있는 부모 테이블에 없는 값은 외래키로 사용 할 수 X
UPDATE EMP SET DEPT_NO =10 WHERE EMP_NAME = '정소화';


UPDATE EMP SET DEPT_NO =1 WHERE EMP_NAME = '정소화';


--자식 테이블에서 참조하고(사용하고) 있는 값은 부모테이블에서 삭제할 수 X
DELETE FROM DEPT WHERE DEPT_NO = 1;

















