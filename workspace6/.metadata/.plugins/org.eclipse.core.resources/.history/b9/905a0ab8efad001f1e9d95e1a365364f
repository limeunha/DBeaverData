--권한(DCL)

CREATE USER person IDENTIFIED BY person1234; --계정(스키마)생성
GRANT CONNECT, RESOURCE, DBA TO person; --권한 부여
ALTER USER person IDENTIFIED BY person5678; --비밀번호 변경
DROP USER person; --계정삭제

--트랜잭션(커밋, 롤백)

CREATE TABLE PAYMENT(
NO NUMBER PRIMARY KEY,
NAME VARCHAR2(20), --결제자 이름
PAY NUMBER --결제금액
);

--재고 테이블
CREATE TABLE STOCK(
  NO NUMBER PRIMARY KEY,
  STOCK_NAME VARCHAR2(20), -- 상품명
  STOCK_COUNT NUMBER -- 재고갯수
);


INSERT INTO STOCK VALUES(1, '티셔츠', 1);
SELECT * FROM STOCK;
SELECT * FROM PAYMENT;

--결제 상황 진행
INSERT INTO PAYMENT VALUES(1, '철수', 30000); --결제
UPDATE STOCK SET STOCK_COUNT = 0 WHERE NO = 1; --재고차감
COMMIT; --데이터 베이스에 완벽하게 반영(트랜잭션 처리 후 커밋 처리)


INSERT INTO PAYMENT VALUES(2, '미희', 30000); --결제
UPDATE STOCK SET STOCK_COUNT = 0 WHERE NO = 1; --재고차감
ROLLBACK;

DELETE INTO PAYMENT WHERE NO = 2;
UPDATE STOCK SET STOCK_COUNT = 0 WHERE NO = 1;
COMMIT;

--제약조건(CKECK)

CREATE TABLE SAMPLE(
	NO NUMBER PRIMARY KEY,
	NAME VARCHAR2(20),
	AGE NUMBER
);

INSERT INTO SAMPLE VALUES(1, '양지은', 10);

















