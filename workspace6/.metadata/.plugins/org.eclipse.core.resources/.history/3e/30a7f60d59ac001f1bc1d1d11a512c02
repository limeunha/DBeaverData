--기본키, 외래키


--부서 테이블
CREATE TABLE DEPT(
	DEPT_NO NUMBER PRIMARY KEY,
	DEPT_NAME VARCHAR2(20) NOT NULL
);



--사원 테이블
CREATE TABLE EMP(
	EMP_NO NUMBER PRIMARY KEY,
	EMP_NAME VARCHAR2(20) NOT NULL,
	DEPT_NO NUMBER NOT NULL,
	CONSTRAINT FK_DEPT_NO FOREIGN KEY(DEPT_NO) REFERENCES dept(dept_no)
);


--부서테이블에 데이터 넣기
INSERT INTO DEPT VALUES(1, '인사부');
INSERT INTO DEPT VALUES(2, '연구부');
INSERT INTO DEPT VALUES(3, '홍보부');

SELECT * FROM DEPT;


--사원테이블에 데이터 넣기
INSERT INTO EMP VALUES(1001, '정소화', 3);
INSERT INTO EMP VALUES(1002, '김용욱', 1);
INSERT INTO EMP VALUES(1003, '고명석', 2);

--★참조하고 있는 부모 테이블에 없는 값은 외래키로 사용 할 수 X
INSERT INTO EMP VALUES(1004, '김연아', 4);

SELECT * FROM EMP;
SELECT * FROM DEPT;
--★참조하고 있는 부모 테이블에 없는 값은 외래키로 사용 할 수 X
UPDATE EMP SET DEPT_NO =10 WHERE EMP_NAME = '정소화';


UPDATE EMP SET DEPT_NO =1 WHERE EMP_NAME = '정소화';


--자식 테이블에서 참조하고(사용하고) 있는 값은 부모테이블에서 삭제할 수 X
DELETE FROM DEPT WHERE DEPT_NO = 1;

--생성: 부모-> 자식
--삭제: 자식-> 부모
DROP TABLE EMP;
DROP TABLE DEPT;

--순서에 상관없이 삭제하고 싶을때
DROP TABLE DEPT CASCADE CONSTRAINT;
DROP TABLE EMP;







--퀴즈1. 아래와 같이 수업 테이블을 만들고 데이터를 넣으시오
CREATE TABLE CLASS(
	class_no NUMBER PRIMARY KEY,
	class_name VARCHAR2(20)
);

SELECT * FROM CLASS;

INSERT INTO CLASS VALUES(1001, '수학');
INSERT INTO CLASS VALUES(1002, '국어');


--퀴즈2. 아래와 같이 학생 테이블을 만들고 데이터를 넣으시오
CREATE TABLE STUDENT(
	student_no NUMBER PRIMARY KEY,
	student_name VARCHAR2(20) NOT NULL
);

SELECT * FROM STUDENT;

INSERT INTO STUDENT VALUES(2001, '정소화');
INSERT INTO STUDENT VALUES(2002, '김용욱');
INSERT INTO STUDENT VALUES(2003, '고명석');

--퀴즈3. 아래와 같이 수강 테이블을 만들고 데이터를 넣으시오
































